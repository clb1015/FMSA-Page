<!DOCTYPE html>
<html>
<head>
    <title>Florida County Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 600px;
            width: 100%;
            margin: 0 auto;
        }
        .county-tooltip {
            background-color: #fff;
            padding: 5px;
            border: 1px solid #000;
            border-radius: 5px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>Florida County Map</h1>
    <p>Hover over a county to see its supervisor and email. Click a county to visit its school district website.</p>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map
        var map = L.map('map').setView([27.9944024, -81.7602544], 7); // Centered on Florida

        // Add a tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
        }).addTo(map);

        // GeoJSON data URL (update this to the correct path for your GeoJSON file)
        const geoJsonUrl = 'Florida_County_Boundaries_with_FDOT_Districts_6074369993038631266.geojson';

        // County data
        const counties = {
            "Alachua": { supervisor: "Diana Rollo", email: "Rollod@gm.sbac.edu" },
            "Brevard": { supervisor: "Minnie Orr", email: "Orr.Minnie@brevardschools.org " },
            "Broward": { supervisor: "Joe Luechauer", email: "joeluechauer@browardschools.com" },
            "Charlotte": { supervisor: "Ellen Harvey", email: "Ellen.Harvey@yourcharlotteschools.net" },
            "Clay": { supervisor: "Christopher Gugel", email: "christopher.gugel@myoneclay.net" },
            "Collier": { supervisor: "Skip (Harry) Pardee", email: "pardeh@collierschools.com" },
            "Duval": { supervisor: "Laurie Hoppock", email: "HoppockL@duvalschools.org" },
            "Escambia": { supervisor: "Barbie Spears", email: "bspears@ecsdfl.us" },
            "Hillsborough": { supervisor: "Jon Sever", email: "jon.sever@hcps.net" },
            "Lake": { supervisor: "Christina Szuba", email: "szubac@lake.k12.fl.us" },
            "Lee": { supervisor: "Jason Thomashefsky", email: "JasonET@LeeSchools.net" },
            "Leon": { supervisor: "Scott Leaman", email: "leamans@leonschools.net" },
            "Manatee": { supervisor: "Rhea Skaggs", email: "skaggsr@manateeschools.net" },
            "Marion": { supervisor: "Brooke Hutto", email: "brooke.hutto@marion.k12.fl.us" },
            "Miami-Dade": { supervisor: "Patricio Suarez", email: "psuarez@dadeschools.net " },
            "Monroe": { supervisor: "Gary Hernandez", email: "gary.hernandez@keysschools.com" },
            "Okaloosa": { supervisor: "Terry Schroeder", email: "Teresa.Schroeder@Okaloosaschools.com" },
            "Orange": { supervisor: "Jason Locker", email: "Jason.locker@ocps.net" },
            "Osceola": { supervisor: "Chris Burns", email: "Christopher.Burns@osceolaschools.net " },
            "Palm Beach": { supervisor: "Cleve Maloon", email: "cleve.maloon@palmbeachschools.org" },
            "Pasco": { supervisor: "Thomas Viking", email: "tviking@pasco.k12.fl.us" },
            "Pinellas": { supervisor: "Meghan Alfaro", email: "alfarome@pcsb.org" },
            "Polk": { supervisor: "Beth Cummings", email: "beth.cummings@polk-fl.net" },
            "Santa Rosa": { supervisor: "Alicia Coon", email: "CoonA@santarosa.k12.fl.us" },
            "Sarasota": { supervisor: "Angela Hartvigsen", email: "Angela.Hartvigsen@sarasotacountyschools.net" },
            "Seminole": { supervisor: "Lindsey Williams", email: "willialz2@myscps.us" },
            "St. Johns": { supervisor: "Joanne Crowder", email: "joanne.crowder@stjohns.k12.fl.us" },
            "St. Lucie": { supervisor: "Kevin Perry", email: "kevin.perry@stlucieschools.org" },
            "Volusia": { supervisor: "John Dupuis", email: "jjdupuis@volusia.k12.fl.us " },
            "Walton": { supervisor: "Jaime Mitchell", email: "mitchellj@walton.k12.fl.us" }

        };

        // Fetch and display GeoJSON data
        fetch(geoJsonUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                L.geoJSON(data, {
                    style: {
                        color: '#000',
                        weight: 1,
                        fillColor: '#ccc',
                        fillOpacity: 0.5
                    },
                    onEachFeature: function(feature, layer) {
                        const countyName = feature.properties.NAME;
                        const countyInfo = counties[countyName];

                        if (countyInfo) {
                            const tooltipContent = `
                                <strong>${countyName}</strong><br>
                                Supervisor: ${countyInfo.supervisor || 'TBD'}<br>
                                Email: ${countyInfo.email || 'Not available'}
                            `;

                            layer.bindTooltip(tooltipContent, {
                                className: 'county-tooltip',
                                sticky: true
                            });

                            layer.on('mouseover', function() {
                                this.setStyle({ fillColor: '#6c757d', fillOpacity: 0.7 });
                            });

                            layer.on('mouseout', function() {
                                this.setStyle({ fillColor: '#ccc', fillOpacity: 0.5 });
                            });

                            layer.on('click', function() {
                                alert(`Clicked on ${countyName}`);
                            });
                        } else {
                            console.warn(`No data available for county: ${countyName}`);
                        }
                    }
                }).addTo(map);
            })
            .catch(err => console.error('Error loading GeoJSON:', err));
    </script>
</body>
</html>
